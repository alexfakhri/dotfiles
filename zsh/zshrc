zsh_dotfile_path=$(dirname $(readlink -f $HOME/.zshrc))
fpath=($zsh_dotfile_path/zsh/completion $fpath)

# Glob-like autocomplete
setopt glob_complete
setopt no_case_glob

# zsh history
setopt append_history
setopt share_history
setopt hist_ignore_dups

# El Capitan does weird things to $PATH, so we have to re-init rbenv here
if which rbenv > /dev/null; then eval "$(rbenv init - zsh)"; fi

source $zsh_dotfile_path/aliases
source $zsh_dotfile_path/exports
source $zsh_dotfile_path/functions
source $zsh_dotfile_path/agnoster-theme
[ -f $zsh_dotfile_path/secret ] && source $zsh_dotfile_path/secret

HISTFILE=$HOME/.zhistory
HISTSIZE=20000
SAVEHIST=20000
setopt HIST_IGNORE_SPACE
HOSTNAME="`hostname`"

# But still use emacs-style zsh bindings
bindkey -e

# this allows Vim to use C-s as a mapping
stty -ixon

# better cding
# http://robots.thoughtbot.com/cding-to-frequently-used-directories-in-zsh
setopt auto_cd
cdpath=($HOME/work $HOME/me)

# Use fzf for shell things too
[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh

# Load NVM
[ -d "$NVM_DIR" ] && . "$NVM_DIR/nvm.sh"
